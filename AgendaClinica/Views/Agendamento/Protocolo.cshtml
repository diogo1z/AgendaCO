@model AgendaClinica.Models.AgendamentoVM

@{
    Layout = null;
}

<br />
<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
    <h3 id="myModalLabel">Agendamento</h3>
</div>
<div class="modal-body">
    @Html.HiddenFor(x => x.IdPaciente)
    @if (Model != null && Model.IdPaciente > 0)
    {
        <div class="row">
            <div class="form-group col-md-12">
                <h3>Agendamento realizado!</h3>
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-12">
                <label>Data:</label>
                <label> @Model.DataAgendamento.ToString("dd/MM/yyyy")</label>
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-12">
                <label>Horário:</label>
                <label> @Model.HoraAgendamento</label>
            </div>
        </div>
    }
    else
    {
        <div class="row">
            <div class="form-group col-md-12">
                <h3>Não foi possível concluir o agendamento!</h3>
            </div>
        </div>
    }
    <div class="row ">
        <div class="col-lg-12">
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        </div>
    </div>
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-default" data-dismiss="modal" aria-hidden="true">Fechar</button>
</div>


<script>
    $('#modalPaciente').on('hidden.bs.modal', function () {
        if (@Model.IdPaciente > 0)
            window.location.href = "@Url.Action("Index", "Agendamento")";
    });
</script>

